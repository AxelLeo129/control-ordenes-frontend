<app-component-menu></app-component-menu>
<div class="container d-flex justify-content-center" style="padding: 10px;">
  <div class="card" style="width: 50%;">
    <div class="card-header">
      <ul class="nav nav-tabs">
        <li class="nav-item" (click)="changeActive()">
          <a class="nav-link" [ngClass]="iniciar_sesion_activo">Iniciar Sesión</a>
        </li>
        <li class="nav-item" (click)="changeActive()">
          <a class="nav-link" [ngClass]="registro_activo">Registro</a>
        </li>
      </ul>
    </div>
    <div class="card-body">
      <ng-container *ngIf="iniciar_sesion_activo == 'active'; else register_template">
        <form [formGroup]="login_form" (ngSubmit)="login()">
          <div class="form-group">
            <label for="exampleInputEmail1">Nombre Usuario</label>
            <input type="text" class="form-control" formControlName="nombre_usuario" id="exampleInputEmail1"
              aria-describedby="emailHelp" placeholder="Nombre">
            <small id="emailHelp" class="form-text text-muted">Ingrese su nombre de usuario</small>
            <div class="errors" *ngIf="nombre_usuario.invalid && (nombre_usuario.dirty || nombre_usuario.touched)">
              <span *ngIf="nombre_usuario.errors.required">
                <small>Este campo es requerido</small>
              </span>
            </div>
          </div>
          <div class="form-group">
            <label for="exampleInputPassword1">Contraseña</label>
            <input type="password" formControlName="password" class="form-control" id="exampleInputPassword1"
              placeholder="Contraseña">
            <div class="errors" *ngIf="password.invalid && (password.dirty || password.touched)">
              <span *ngIf="password.errors.required">
                <small>Este campo es requerido</small>
              </span>
              <span *ngIf="password.errors.minlength">
                <small>La contraseña debe tener al menos 6 caracteres</small>
              </span>
            </div>
          </div>
          <button type="submit" class="btn btn-primary">Iniciar Sesión</button>
        </form>
      </ng-container>
      <ng-template #register_template>
        <form [formGroup]="register_form" (ngSubmit)="signup()">
          <div class="form-group">
            <label for="exampleInputEmail3">Nombre</label>
            <input type="text" class="form-control" formControlName="nombre" id="exampleInputEmail3"
              aria-describedby="emailHelp" placeholder="Nombre">
            <small id="emailHelp" class="form-text text-muted">Ingrese su nombre</small>
            <div class="errors" *ngIf="nombre.invalid && (nombre.dirty || nombre.touched)">
              <span *ngIf="nombre.errors.required">
                <small>Este campo es requerido</small>
              </span>
            </div>
          </div>
          <div class="form-group">
            <label for="exampleInputEmail1">Nombre usuario</label>
            <input type="text" class="form-control" formControlName="nombreUsuario" id="exampleInputEmail1"
              aria-describedby="emailHelp" placeholder="Nombre Usuario">
            <small id="emailHelp" class="form-text text-muted">Ingrese su nombre de usuario</small>
            <div class="errors" *ngIf="nombreUsuario.invalid && (nombreUsuario.dirty || nombreUsuario.touched)">
              <span *ngIf="nombreUsuario.errors.required">
                <small>Este campo es requerido</small>
              </span>
            </div>
          </div>
          <div class="form-group">
            <label for="exampleInputEmail2">Email</label>
            <input type="email" class="form-control" formControlName="email" id="exampleInputEmail2"
               placeholder="Email">
            <div class="errors" *ngIf="email.invalid && (email.dirty || email.touched)">
              <span *ngIf="email.errors.required">
                <small>Este campo es requerido</small>
              </span>
              <span *ngIf="(email.dirty || email.touched) && email.invalid && email.errors.pattern">
                <small>Ingrese un email válido</small>
              </span>
            </div>
          </div>
          <div class="form-group">
            <label for="exampleInputPassword2">Contraseña</label>
            <input type="password" formControlName="contrasenia" class="form-control" id="exampleInputPassword2"
              placeholder="Contraseña">
            <div class="errors" *ngIf="contrasenia.invalid && (contrasenia.dirty || contrasenia.touched)">
              <span *ngIf="contrasenia.errors.required">
                <small>Este campo es requerido</small>
              </span>
              <span *ngIf="contrasenia.errors.minlength">
                <small>La contraseña debe tener al menos 6 caracteres</small>
              </span>
            </div>
          </div>
          <button type="submit" class="btn btn-primary">Iniciar Sesión</button>
        </form>
      </ng-template>
    </div>
  </div>
</div>